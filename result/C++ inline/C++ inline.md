原文链接：http://www.cnblogs.com/codingbigdog/archive/2022/05/07/16243219.html
提交日期：Sat, 07 May 2022 08:57:00 GMT
博文内容：
## 1.1.函数与inline
将函数替换成函数中具体的表达式，从而防止使用太多的函数而导致栈溢出。【栈空间就是指放置程序的局部数据（也就是函数内数据）的内存空间】
```
#include <stdio.h>
 
inline const char *num_check(int v)
{
    return (v % 2 > 0) ? "奇" : "偶";
}
 
int main(void)
{
    int i;
    for (i = 0; i < 100; i++)
        printf("%02d   %s\n", i, num_check(i));
    return 0;
}
```
内部任何调用 num_check(i)的地方都换成了 (v % 2 > 0) ? "奇" : "偶"，这样就避免了频繁调用函数对栈内存重复开辟所带来的消耗。

【注】
- inline 函数体内的代码一般是**简单**的，不能包含复杂的结构控制语句例如 while、switch，并且不能内联函数本身不能是直接递归函数（即，自己内部还调用自己的函数）。仅当函数体内包含常量开销O(1)的简单语句才使用inline关键字修饰成员函数
- inline 函数仅仅是一个**对编译器的建议**，如果编译器认为该函数过长，通常是O(n)级以上的消耗，编译器会忽略该请求。
- inline的问题：1.如果执行函数体内代码的时间，相比于函数调用的开销较大，那么效率的收获会很少。2.另一方面，每一处内联函数的调用都要复制代码，将使程序的总代码量增大，消耗更多的内存空间。

使用inline的原因：1.防止栈溢出 2.函数切换时间相对于函数执行时间太大。

## 1.2.类中的成员函数与inline
定义在类中的成员函数默认都是内联的，如果在类定义时就在类内给出函数定义，那当然最好。如果在类中未给出成员函数定义，而又想内联该函数的话，那在类外要加上 inline，否则就认为不是内联的。
```
// 头文件
class A
{
    public:
    void Foo(int x, int y);
}
 
// 定义文件
inline void A::Foo(int x, int y){}
```
 值得注意的是： 如果在类体外定义inline函数，则必须将类定义和成员函数的定义都放在同一个头文件中(或者写在同一个源文件中)，否则编译时无法进行置换(将函数代码的拷贝嵌入到函数调用点)。 但是这样做，不利于类的接口与类的实现分离，不利于信息隐蔽。虽然程序的执行效率提高了，但从软件工程质量的角度来看，这样做并不是好的办法。只有在类外定义的成员函数规模很小而调用频率较高时，才将此成员函数指定为内置函数。
【[C++ 中的 inline 用法](https://www.runoob.com/w3cnote/cpp-inline-usage.html)中为什么说类中声明函数，类外使用内联函数，是比较好的编程习惯？这不是脱裤子放屁吗？直接在类中定义不就行了？】
【”定义在类中的成员函数默认都是内联的“这句话是什么意思？】

参考：[C++ 中的 inline 用法](https://www.runoob.com/w3cnote/cpp-inline-usage.html)
