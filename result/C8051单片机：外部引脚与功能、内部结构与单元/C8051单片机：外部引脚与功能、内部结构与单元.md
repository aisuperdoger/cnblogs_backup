原文链接：http://www.cnblogs.com/codingbigdog/archive/2022/07/26/16522420.html
提交日期：Tue, 26 Jul 2022 11:51:00 GMT
博文内容：

                    <p>一，外部引脚与功能</p> 
<p>1，首先一个小圆坑或小标记指示第1引脚，然后逆时针数下去直到最后一个引脚第40引脚，典型51单片机有40个引脚（或管脚） 4组8个I/O口引脚，加8个特殊引脚，共40个。</p> 
<p>2，40个引脚按其功能分为三类：</p> 
<p>（1）I/O端口引脚，如P0，P1，P2，P3，4组8位并行I/O端口（32个）</p> 
<p>（2）电源和时钟引脚，如Vcc，GND，XTAL1，XTAL2（4个）</p> 
<p>（3）编程控制引脚，如RST，PSEN，ALE/PROG，EA/Vpp（4个）</p> 
<p>注意：/ 表示第二功能！</p> 
<p>3，各个外部引脚的功能</p> 
<p>（1）Vcc（第40脚）为电源正端 GND或Vss（第20脚）为接地端 。Vcc典型值值为+5V，最低+3.3V</p> 
<p>（2）XTAL1，XTAL2：8051时钟有两种方式：第一种是片内时钟振荡方式；第二种是外部时钟方式。</p> 
<p>片内时钟振荡方式：XTAL1为片内振荡电路输入端，XTAL2为内振荡电路输出端 。</p> 
<p>外部时钟方式：XTAL2接外时钟信号，&nbsp;XTAL1接地（或悬空）</p> 
<p>补充：1，一个机器周期 = 12个振荡周期 =6个状态周期；指令周期：即从取指、分析、到执行完所需时间</p> 
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;2，AT89S51单片机的XTAL1端（第19管脚）、XTAL2（第18管脚）内部有一个片内振荡器结构，但仍然需要在XTAL1和XTAL2之间连接一个晶振Y1，并加上两个容量介于20~40pF的电容C1、C2组成自激振荡器时钟电路</p> 
<p>（3）RST/VPD（第9脚）为单片机复位引脚/备用电源输入端 。当连续出现两个机器周期以上高电平时为有效，单片机复位，完成复位初始化操作 ：PC=0000H，即从存储器第0000H单元读取指令，P0—P3端口输出高电平；SP寄存器为07H；其它寄存器全部清0</p> 
<p>（4）EA/Vpp（第31脚）为内部/外部ROM存储器选择端 。接高电平时，单片机先读取内部存储器，当有外部扩展ROM时，当读完内部ROM后自动读取外部ROM。 接低电平时，单片机直接读取外部ROM 。因为单片机都有内部ROM，所以设计电路时一般此引脚始终接高电平</p> 
<p>（5）PSEN（第29脚）为外部ROM程序存储器的读选通信号端 。接低电平有效，实现读取外部程序存储器单元，当读内部ROM时，第29脚不动作 由于现有单片机内部ROM足够大，几乎不再去扩展外部ROM，该引脚了解即可</p> 
<p>（6）ALE/PROG（30脚）为地址锁存信号输出端/EPROM编程脉冲输入端 。有外部访问时，ALE用于控制P0口的输出低8位地址送锁存器锁存起来，实现地址和数据隔离 。无外部访问时，提供1/6 fosc振荡频率，可做外部时钟或定时脉冲 当对内部RAM编写程序时，提供编程脉冲，现在较少用到</p> 
<p>（7）P0口：P0.0—P0.7（第32—39引脚）。 双向8位三态I/O端口，每个端口或引脚可独立控制，内部无上拉电阻，为高阻态，所以不能正常输出高/低电平。 使用时一般外接10K上拉电阻。P0口（第32—39引脚）是一个8位的开漏型双向I/O端口。P0口在作输入/输出口使用时需要添加外部上拉电阻</p> 
<p>第二功能访问外部RAM/ROM，分时发送低8位地址或读写数据；编程/校验8751时，输入输出片内ROM数据和代码</p> 
<p>（8）P1口：P1.0—P1.7（1—8脚）。 准双向8位通用I/0口，每个引脚可独立控制，内带上拉电阻，无高阻态，也不能锁存，故不是真正的双向I/O口，成为“准双向”</p> 
<p>第二功能，编程/校验8751时，接收低八位地址信号</p> 
<p>（9）P2口：P2.0—P2.7（第21—28引脚）。 准双向8位I/0口，每个引脚可独立控制，内带上拉电阻，与P1口类似</p> 
<p>P2端口的第二功能： 访问外部RAM/ROM，分时发送高8位地址或读写数据。 编程/校验8751时，接收高四位地址/控制信号</p> 
<p>（10）P3口：P3.0—P3.7（第10—17引脚）。 准双向8位多用途I/0口，每个引脚可独立控制，内带上拉电阻，作为第一功能使用时就作普通I/O口，与P1口类似。 作为第二功能使用时，定义如下表：</p> 
<p><img alt="" class="has" height="368" src="https://img-blog.csdnimg.cn/2019110310453189.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3FxXzQyNzc1OTM4,size_16,color_FFFFFF,t_70" width="824"></p> 
<p>&nbsp;</p> 
<p>二，内部结构与单元</p> 
<p>1，总线分为外部总线和内部总线</p> 
<p>（1）内部总线是CPU内部之间的连线</p> 
<p>（2）外部总线是指CPU与其它部件之间的连线，包括数据总线DB（Data &nbsp;Bus），地址总线 AB（Address &nbsp;Bus）和控制总线 CB（Control &nbsp; Bus）</p> 
<p>2，三条外部总线与单片机引脚的对应关系</p> 
<p>（1）地址总线—— AB：P0口提供（A7 ~ A0）； &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;</p> 
<p>&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; P2口提供（A15 ~ A8），共16位</p> 
<p>（2）数据总线—— DB：P0口提供（D7 ~ D0），共8位。</p> 
<p>（3）控制总线—— CB：ALE 、EA、等</p> 
<p>3，单片机的内部单元</p> 
<p>（1）中央处理单元CPU（8位）：用于数据处理、位操作（位测试、置位、复位）</p> 
<p>（2）.只读存储器ROM（4KB）：用于永久性存储应用程序，掩膜ROM、EPROM、EEPROM、 &nbsp; &nbsp; &nbsp;Flash Memory(闪存)</p> 
<p>（3）随机存取存取器RAM（256B）：&nbsp;用于程序运行中存储工作变量和数据</p> 
<p>（4）并行输入/输出口 &nbsp; I / O（32线）：用作系统总线、扩展外存、I / O接口芯片</p> 
<p>（5）串行输入/输出口 &nbsp; UART &nbsp;（二线）：&nbsp;串行通信、扩展I / O接口芯片</p> 
<p>（6）定时/计数器 &nbsp;T（16位增量可编程）： 它与CPU之间各自独立工作，当它计数满时向CPU中断</p> 
<p>（7）时钟电路 &nbsp;fosc &nbsp;：&nbsp;分为内部振荡器、外接振荡电路</p> 
<p>（8）中断系统 ： 五源中断、两级优先，可编程进行控制</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p> 
<p>&nbsp;</p>
                